<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>{{ title if title else "SIMA-ALG ‚≠ê | Sistem Informasi Mahasiswa berbasis Algoritma" }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- MAIN STYLE -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body id="body">

<!-- ================= NAVBAR ================= -->
<nav class="navbar">
    <div class="left">
        <a href="{{ url_for('home') }}" class="brand">
            <strong>SIMA-ALG ‚≠ê</strong>
        </a>

        {% if session.get('user') %}
            <a href="{{ url_for('index') }}">Home</a>
            <a href="{{ url_for('tambah') }}">Tambah Data</a>
            <a href="{{ url_for('mahasiswa_page') }}">Data Mahasiswa</a>
            <a href="{{ url_for('dashboard') }}">Dashboard</a>
        {% else %}
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Register</a>
        {% endif %}
    </div>

    <div class="right">
        {% if session.get('user') %}
            <span class="user">üë§ {{ session['user'] }}</span>

            <a href="{{ url_for('logout') }}" class="logout">Logout</a>

            <!-- THEME TOGGLE -->
            <div class="theme-toggle">
                <label class="switch">
                    <input id="theme-switch" type="checkbox">
                    <span class="slider round"></span>
                </label>
                <span id="theme-label">üåû</span>
            </div>
        {% endif %}
    </div>
</nav>

<!-- ================= CONTENT ================= -->
<main class="container">
    {% block content %}{% endblock %}
</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">
    ¬© 2025 <strong>SIMA-ALG ‚≠ê</strong> ‚Äî Sistem Informasi Mahasiswa berbasis Algoritma
</footer>

<!-- ================= DARK MODE SCRIPT ================= -->
<script>
const themeSwitch = document.getElementById("theme-switch");
const themeLabel = document.getElementById("theme-label");

if (themeSwitch) {
    if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark");
        themeSwitch.checked = true;
        themeLabel.textContent = "üåô";
    }

    themeSwitch.addEventListener("change", function () {
        if (this.checked) {
            document.body.classList.add("dark");
            localStorage.setItem("theme", "dark");
            themeLabel.textContent = "üåô";
        } else {
            document.body.classList.remove("dark");
            localStorage.setItem("theme", "light");
            themeLabel.textContent = "üåû";
        }
    });
}
</script>

</body>
</html>
