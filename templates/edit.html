{% extends "base.html" %}
{% block content %}

<h2>Edit Data Mahasiswa</h2>

<!-- Flash messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
      {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<form method="POST" class="form-box">

    <label>NIM (tidak bisa diubah)</label>
    <input type="text" value="{{ mhs.nim }}" disabled class="input-field">

    <label>Nama</label>
    <input type="text" name="nama" value="{{ mhs.nama }}" required class="input-field">

    <label>Kelas</label>
    <input type="text" name="kelas" value="{{ mhs.kelas }}" required class="input-field">

    <label>IPK</label>
    <input type="text" name="ipk" value="{{ mhs.ipk }}" required class="input-field">

    <label>Jurusan</label>
    <select name="jurusan" class="input-field">
        {% for j in jurusan_list %}
        <option value="{{ j }}" {% if j == mhs.jurusan %}selected{% endif %}>{{ j }}</option>
        {% endfor %}
    </select>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Update</button>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">Batal</a>
    </div>
</form>

{% endblock %}
